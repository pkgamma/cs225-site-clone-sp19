<!DOCTYPE html>
<html lang="en">


<!-- Mirrored from courses.engr.illinois.edu/cs225/sp2019/notes/kd-tree/ by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 09 May 2019 18:18:22 GMT -->
<head>
    <meta charset="UTF-8">
    <title>CS 225 | k-d Trees</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="base_url" content="/cs225/sp2019">

    <link rel="apple-touch-icon" sizes="57x57" href="../../static/img/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="../../static/img/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="../../static/img/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="../../static/img/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="../../static/img/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="../../static/img/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="../../static/img/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="../../static/img/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="../../static/img/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192"  href="../../static/img/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="../../static/img/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="../../static/img/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="../../static/img/favicon-16x16.png">
<link rel="manifest" href="../../static/img/manifest.json">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="../../static/img/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">


    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.css">

<link rel="stylesheet" href="../../static/css/main.css">
<link rel="stylesheet" href="../../static/css/github-highlighting.css">

<script src="https://code.jquery.com/jquery-3.4.0.min.js" integrity="sha256-BJeo0qm959uMBGb65z40ejJYGSgR7REI4+CW1fNKwOg=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
<script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script>
<script defer type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML" defer></script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
            TeX: {
                extensions: [ "AMSmath.js", "AMSsymbols.js" ]
            },
            tex2jax: {
                inlineMath: [['\\(','\\)'], ['$$','$$']],
                displayMath: [['\\[','\\]']]
            },
        });
</script>

<style>
    svg.graph {
        overflow: visible;
        margin-left: auto;
        margin-right: auto;
        margin-bottom: 10px;
        display: block;
        max-width: 95%;
    }
</style>

<style>
  /* Main items  */
  .main-item {
    border-top-left-radius: calc(1rem - 1px);
    border-top-right-radius: calc(1rem - 1px);
    border-bottom-left-radius: calc(1rem - 1px);
    border-bottom-right-radius: calc(1rem - 1px);
    background-size: cover;
    padding: 10px
  }

  .main-item-mp {
    background-image: url('../../assets/covers/default_mp.svg')
  }

  .main-item-lab {
    background-image: url('../../assets/covers/default_lab.svg')
  }

  .main-item-note {
    background-image: url('../../assets/covers/notes.svg')
  }

  .main-item-body {
    width: 320px;
    height: 180px;
    padding: 20px;

    display: flex;
    border: none !important;
    flex-direction: column;
    justify-content: center;
    background-color: rgba(255, 255, 255, 0.91) !important;
  }

  .main-item-body:hover {
    background-color: rgba(255, 255, 255, 0) !important;
    background: transparent;
    border: transparent;
  }

  .main-item-body:hover * {
    -webkit-text-fill-color: white !important;
    -webkit-background-clip: none !important;
  }

  .main-item-text {
    -webkit-text-fill-color: transparent;
    -webkit-background-clip: text;
    background-size: cover;
  }

  .main-item-text-mp {
    background-image: linear-gradient( rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5) ), url('../../assets/covers/default_mp.svg')
  }

  .main-item-text-lab {
    background-image: linear-gradient( rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5) ), url('../../assets/covers/default_lab.svg')
  }

  .main-item-text-note {
    background-image: linear-gradient( rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5) ), url('../../assets/covers/notes.svg')
  }
</style>

</head>
<body class="mb-3">
<nav class="navbar navbar-expand-md navbar-dark bg-dark">
    <a class="navbar-brand mr-0 mr-md-2" href="../../index.html">
        <img src="../../static/img/UIUC_logo.png" alt="UIUC Logo" width="24" height="32" class="d-inline-block align-top mr-2">
        CS 225
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbar">
        <ul class="navbar-nav mr-auto">
            <li class="nav-item ">
                <a class="nav-link" href="../../pages/lectures.html">Lectures</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="../../assignments/index.html">Assignments</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="../../exams/index.html">Exams</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="../index.html">Notes</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="../../pages/resources.html">Resources</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="../../pages/course_info.html">Course Info</a>
            </li>
        </ul>
    </div>
</nav>

<article class="container py-4">
    <a href="../index.html">Back to Notes</a>
    <header class="mb-4">
        <h1 class="text-dark">k-d Trees</h1>
        <span class="text-secondary">by Jenny Chen</span>
    </header>
    <h2 id="overview">Overview</h2>
<p>A k-d Tree is a binary search tree that organizes points in <em>k</em> dimensional space. Every node in a k-d Tree contains one point. Every parent node splits the space into two subspaces based on a certain dimension. It splits the space such that every node in its left subtree is in the left subspace, and every node in its right subtree is in the right subspace. The dimension that a node is splitting on depends on which level of the tree this node is in.</p>

<div class="row">
    <div class="col-12 col-md-6 offset-md-3">
        <figure class="figure">
            <img class="img-fluid" src="../../assets/notes/kd_trees/dimension_split.png" width="100%" />
            <figcaption class="figure-caption">
              The blue node is splitting on the first dimension (<i>x</i> axis). Every node has a smaller <i>x</i> coordinate belongs to its left subtree, and every node has a greater <i>x</i> coordinate belongs to its right subtree.
            </figcaption>
        </figure>
    </div>
</div>

<h2 id="constructing-a-k-d-tree">Constructing a k-d Tree</h2>
<p>In this course, we focus on constructing a balanced k-d Tree based on an array of points.</p>

<h4 id="alternate-splitting-dimension">Alternate splitting dimension</h4>
<p>As mentioned before, each node splits the space in a certain dimension. Conventionally, the nodes on the <em>i</em> th level split the space in the <em>i</em> th dimension. If <em>i</em> is greater than <em>k</em>, the dimension wraps back around to <em>i</em> mod <em>k</em>.</p>

<div class="row">
  <!-- kd tree for alternating dim -->
   <div class="col-12 col-md-8">
       <figure class="figure">
           <img class="img-fluid" src="../../assets/notes/kd_trees/alternate_dim_0.png" width="100%" />
           <figcaption class="figure-caption">
             This is an example of k-d Tree storing points in 2D. Each node on a odd level splits the <i>x</i> dimension, and each node on a even level splits the <i>y</i> dimension.
           </figcaption>
       </figure>
   </div>
   <!-- 2D graph for alternating dim -->
     <div class="col-12 col-sm-8 offset-sm-2 offset-md-0 col-md-4">
       <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
           <div class="carousel-inner">
             
               
               <div class="carousel-item  active">
                 <img class="d-block w-100" src="../../assets/notes/kd_trees/alternate_dim_1.png" alt="Alternate dim demo image 1" />
               </div>
             
               
               <div class="carousel-item ">
                 <img class="d-block w-100" src="../../assets/notes/kd_trees/alternate_dim_2.png" alt="Alternate dim demo image 2" />
               </div>
             
               
               <div class="carousel-item ">
                 <img class="d-block w-100" src="../../assets/notes/kd_trees/alternate_dim_3.png" alt="Alternate dim demo image 3" />
               </div>
             
               
               <div class="carousel-item ">
                 <img class="d-block w-100" src="../../assets/notes/kd_trees/alternate_dim_4.png" alt="Alternate dim demo image 4" />
               </div>
             
               
               <div class="carousel-item ">
                 <img class="d-block w-100" src="../../assets/notes/kd_trees/alternate_dim_5.png" alt="Alternate dim demo image 5" />
               </div>
             
           </div>
           <a class="carousel-control-prev dark" href="#carouselExampleControls" role="button" data-slide="prev">
               <span class="carousel-control-prev-icon" aria-hidden="true"></span>
               <span class="sr-only">Previous</span>
           </a>
           <a class="carousel-control-next dark" href="#carouselExampleControls" role="button" data-slide="next">
               <span class="carousel-control-next-icon" aria-hidden="true"></span>
               <span class="sr-only">Next</span>
           </a>
        </div>
        <figcaption class="figure-caption text-center">
          kd-Tree splits the space level by level.
        </figcaption>
     </div>
</div>
<p><br /></p>

<h4 id="find-the-median">Find the median</h4>
<p>In order to construct a balanced k-d Tree, each node should split the space such that there are an equal number of nodes in the left subspace as the right subspace. Therefore we need to pick the median among the nodes for the current dimension and make it the subroot.</p>

<h4 id="recurse-on-subtrees">Recurse on subtrees</h4>
<p>After finding the subroot, put all nodes that are in the left subspace into one array, and the rest into another array. Repeat the process on the subarrays.</p>

<!-- Example for constructing a kd-Tree -->
<div class="row">
  <!-- Figure 1 -->
  <div class="col-12 col-md-10 offset-md-1">
    <figure class="figure">
        <img class="img-fluid" src="../../assets/notes/kd_trees/construct_1.png" width="100%" />
        <figcaption class="figure-caption text-center">
          Suppose we are given this array to construct a kd-Tree.
        </figcaption>
    </figure>
  </div>
  <!-- Figure 2 -->
  <div class="col-12 col-md-10 offset-md-1">
    <figure class="figure">
        <img class="img-fluid" src="../../assets/notes/kd_trees/construct_2.png" width="100%" />
        <figcaption class="figure-caption text-center">
          (4, 4) is the median in terms of <i>x</i> coordinate, make it our subroot.
        </figcaption>
    </figure>
  </div>
  <!-- Figure 3 -->
  <div class="col-12 col-md-10 offset-md-1">
    <figure class="figure">
        <img class="img-fluid" src="../../assets/notes/kd_trees/construct_3.png" width="100%" />
        <figcaption class="figure-caption">
          Partition the array so that every point with <i>x</i> coordinate smaller than 4 is on the left side of (4, 4), and every point with <i>x</i> coordinate larger than 4 is on the right side of (4, 4).
        </figcaption>
    </figure>
  </div>
  <!-- Figure 4 -->
  <div class="col-12 col-md-10 offset-md-1">
    <figure class="figure">
        <img class="img-fluid" src="../../assets/notes/kd_trees/construct_4.png" width="100%" />
        <figcaption class="figure-caption text-center">
          Find the median in terms of <i>y</i> coordinate on each of the subarrays.
        </figcaption>
    </figure>
  </div>
  <!-- Figure 5 -->
  <div class="col-12 col-md-10 offset-md-1">
    <figure class="figure">
        <img class="img-fluid" src="../../assets/notes/kd_trees/construct_5.png" width="100%" />
        <figcaption class="figure-caption">
          Partition each subarray by its median, and make the median the subroot. Repeat this process until the array only consists of one node.
        </figcaption>
    </figure>
  </div>
</div>

</article>

</body>

<!-- Mirrored from courses.engr.illinois.edu/cs225/sp2019/notes/kd-tree/ by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 09 May 2019 18:18:34 GMT -->
</html>
